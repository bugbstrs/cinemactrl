<div class="p-4">
    <p-card [header]="isEditMode ? 'Edit Showing' : 'Create Showing'" styleClass="shadow-lg">
        <form [formGroup]="showingForm" (ngSubmit)="onSubmit()">
            <!-- Simple Flex Column for Fields -->
            <div class="flex flex-col gap-4">
                <div class="field">
                    <label for="movieId" class="mb-2 block text-left">Movie</label>
                    <p-select id="movieId" [options]="movies" optionLabel="name" optionValue="id"
                        formControlName="movieId" placeholder="Select a movie" [filter]="true"
                        class="w-full"></p-select>
                    <small *ngIf="showingForm.get('movieId')?.invalid && showingForm.get('movieId')?.touched"
                        class="p-error">Movie is required</small>
                </div>

                <div class="field">
                    <label for="theaterId" class="mb-2 block text-left">Theater</label>
                    <p-select id="theaterId" [options]="theaters" optionLabel="name" optionValue="id"
                        formControlName="theaterId" placeholder="Select a theater" [filter]="true"
                        class="w-full"></p-select>
                    <small *ngIf="showingForm.get('theaterId')?.invalid && showingForm.get('theaterId')?.touched"
                        class="p-error">Theater is required</small>
                </div>

                <div class="field">
                    <label for="startTime" class="mb-2 block text-left">Start Time</label>
                    <p-datepicker id="startTime" formControlName="startTime" [showTime]="true" [showSeconds]="false"
                        [showIcon]="true" class="w-full"></p-datepicker>
                    <small *ngIf="showingForm.get('startTime')?.invalid && showingForm.get('startTime')?.touched"
                        class="p-error">Start time is required</small>
                </div>
            </div>

            <!-- Buttons After Fields -->
            <div class="flex gap-3 mt-4 justify-content-start">
                <p-button label="Cancel" styleClass="p-button-secondary" type="button"
                    routerLink="/showings"></p-button>
                <p-button [label]="isEditMode ? 'Update' : 'Create'" type="submit"
                    [disabled]="showingForm.invalid"></p-button>
            </div>
        </form>
    </p-card>
</div>

<p-toast></p-toast>
